<html>
<head>
<%= yield :head %>
<link rel="shortcut icon" href="/favicon.ico">
<%= stylesheet_link_tag "railsrankings_v2" %>

<%= javascript_include_tag 'jquery' %>

</head>
<body>
<div id="header">
	<h1><%= link_to "Rails Rankings", root_path %></h1>
  <h2>The best way to find qualified Ruby on Rails developers and companies.</h2>
  <div id="search_box">
  	<% form_tag coders_path, :method => :get do %>
      <%= text_field_tag :search, params[:search]%>
      <input name="search" id="search_btn" value="Search" type="image" src="../images/new/btn_search.gif" onclick="this.submit();"/>
    <% end %>
		<div class="bubbleInfo">
			<img class="trigger" src="http://mysite.com/path/to/image.png" />
			<div class="popup">
				<p>Whittle the field of ranked rails coders down by alias, country, city, full name, company. Use a pipe ("|") to include multipe areas, <code>ex. Atlanta | Boston | New York</code>.</p>
				<p>RailsRanking points are based on our unique formula. Coders are given a number of points based on their  workingwithrails.com ranking, their number of public github repo watchers and 'bonus point' modifiers, like WWR Top 100. Github repo authorship is determined by the alias field from the coder's WWR profile.</p>
			</div>
		</div>
	</div>
</div>

<!-- Home Only -->
<%= yield :top_coders %>

<div id="page">
<%= yield %>
</div>

<div id="footer">
	<div class="content">
  <ul>
    	<li><a href="#">About Us</a></li>
        <li><a href="#">Advertise</a></li>
        <li><a href="#">Help and Support</a></li>
        <li><a href="http://railsrankings.uservoice.com" title="Provide Feedback">Feedback</a></li>
    </ul>
	<p>Site by <%= link_to "Reedhot Studios LLC","http://reedhot.com", :target => "_new" %>. Design by <%= link_to "Stephen Martin Design","http://www.stephenmartindesign.com", :target => "_new" %>. If you like RailsRankings.com, please recommend <%= link_to "me","http://www.workingwithrails.com/person/12633-mark-jones", :target => "_new" %>. If you'd like to advertise on RailsRankings.com please contact us <%= link_to 'sales@reedhot.com','mailto:sales@reedhot.com'%>.</p>
	<p>WorkingWithRails logo copyright DSC.</p>
	<p>Disclaimer: This is a publicly accessible database of Ruby on Rails coders, companies and consultants. The views and opinions of originators and contributors expressed on this site do not necessarily state or reflect those of Reedhot Studios LLC. No representation or warranty is given as regards to any applicability of any suggestion, its accuracy or completeness.</p>
    </div>
</div>

<%= javascript_include_tag :defaults %>
<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
	try {
			var pageTracker = _gat._getTracker("UA-6889482-1");
			pageTracker._trackPageview();
		} catch(err) {}</script>

<script src="http://railsrankings.uservoice.com/pages/general/widgets/tab.js?alignment=left&amp;color=e97110" type="text/javascript"></script>

<script type="text/javascript">   
<!-- Needs to be moved to js file //--> 
   $(function () {
        $('.bubbleInfo').each(function () {
            var distance = 10;
            var time = 250;
            var hideDelay = 500;

            var hideDelayTimer = null;

            var beingShown = false;
            var shown = false;
            var trigger = $('.trigger', this);
            var info = $('.popup', this).css('opacity', 0);


            $([trigger.get(0), info.get(0)]).mouseover(function () {
                if (hideDelayTimer) clearTimeout(hideDelayTimer);
                if (beingShown || shown) {
                    // don't trigger the animation again
                    return;
                } else {
                    // reset position of info box
                    beingShown = true;

                    info.css({
                        top: -90,
                        left: -33,
                        display: 'block'
                    }).animate({
                        top: '-=' + distance + 'px',
                        opacity: 1
                    }, time, 'swing', function() {
                        beingShown = false;
                        shown = true;
                    });
                }

                return false;
            }).mouseout(function () {
                if (hideDelayTimer) clearTimeout(hideDelayTimer);
                hideDelayTimer = setTimeout(function () {
                    hideDelayTimer = null;
                    info.animate({
                        top: '-=' + distance + 'px',
                        opacity: 0
                    }, time, 'swing', function () {
                        shown = false;
                        info.css('display', 'none');
                    });

                }, hideDelay);

                return false;
            });
        });
    });
    </script>

</body>
</html>